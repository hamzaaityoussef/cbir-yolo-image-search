<div class="upload-container">
  <h2>Upload d'Images</h2>
  <p class="description">
    S√©lectionnez une ou plusieurs images pour les uploader. 
    Les objets seront automatiquement d√©tect√©s avec YOLO et les descripteurs visuels seront extraits.
  </p>

  <div class="upload-form">
    <div class="file-input-wrapper">
      <input 
        type="file" 
        id="fileInput" 
        multiple 
        accept="image/*"
        (change)="onFileChange($event)"
        [disabled]="uploading">
      <label for="fileInput" class="file-label">
        <span *ngIf="!uploading">üìÅ Choisir des images</span>
        <span *ngIf="uploading">‚è≥ Upload en cours...</span>
      </label>
    </div>

    <div *ngIf="selectedFiles && selectedFiles.length > 0" class="selected-files">
      <p><strong>{{ selectedFiles.length }}</strong> fichier(s) s√©lectionn√©(s):</p>
      <ul>
        <li *ngFor="let file of filesArray">
          {{ file.name }} ({{ (file.size / 1024 / 1024).toFixed(2) }} MB)
        </li>
      </ul>
    </div>

    <button 
      class="upload-button" 
      (click)="upload()" 
      [disabled]="!selectedFiles || uploading">
      <span *ngIf="!uploading">‚¨ÜÔ∏è Uploader</span>
      <span *ngIf="uploading">‚è≥ Upload en cours...</span>
    </button>

    <div *ngIf="message" [ngClass]="getMessageClass()">
      {{ message }}
    </div>
  </div>

  <div class="info-box">
    <h3>‚ÑπÔ∏è Informations</h3>
    <ul>
      <li>Formats support√©s: JPG, PNG, GIF, BMP, WEBP</li>
      <li>D√©tection automatique des objets avec YOLOv8n personnalis√©</li>
      <li>Extraction automatique des descripteurs visuels</li>
      <li>Les images sont stock√©es dans MongoDB</li>
    </ul>
  </div>
</div>
